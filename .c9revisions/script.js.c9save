{"ts":1357138181220,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var dd;\r\n//set the options\r\nvar toGeo = communist();\r\ntoGeo.add(\"toGeo\",toGeoJSON);\r\nvar m= L.map('map').setView([42.3584308,-71.0597732], 8);\r\nnew L.Hash(m);\r\nvar mapQuestAttr = 'Tiles Courtesy of <a href=\"http://www.mapquest.com/\">MapQuest</a> &mdash; ';\r\nvar osmDataAttr = 'Map data &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors';\r\nvar opt = {\r\n    url: 'http://otile{s}.mqcdn.com/tiles/1.0.0/osm/{z}/{x}/{y}.jpeg',\r\n    urla: 'http://oatile{s}.mqcdn.com/tiles/1.0.0/sat/{z}/{x}/{y}.jpeg',\r\n    options: {attribution:mapQuestAttr + osmDataAttr, subdomains:'1234'}\r\n  };\r\nvar mq=L.tileLayer(opt.url,opt.options);\r\nmq.addTo(m);\r\n\r\n\r\nvar ac;\r\nvar sw=0;\r\n\r\n//create the tiles    \r\n\r\n//create the map\r\n\r\n    var g = L.layerGroup().addTo(m);\r\nvar gl =   L.geoJson({ \"type\": \"FeatureCollection\",  \"features\": []},{pointToLayer:pl,onEachFeature:gjon,filter:filterFunc});\r\nvar gp =   L.geoJson({ \"type\": \"FeatureCollection\",  \"features\": []},{pointToLayer:pl,onEachFeature:gjon,filter:filterFunc});\r\nvar lu= L.geoJson({ \"type\": \"FeatureCollection\",  \"features\": []},{pointToLayer:pl,onEachFeature:luon}).addTo(m);\r\n\r\nfunction luon(e,l) {\r\n    if (e.properties){\r\n        l.bindPopup(makePop(e.properties));\r\n    }if(l.setStyles){\r\n     l.setStyle({color:\"#0000ff\",fillOpacity:1,opacity:1});   \r\n    }\r\n}\r\nfunction filterFunc(feature, layer){\r\n    return \"Status\" in feature.properties;\r\n}\r\n//create empty geojson object and add it to the map\r\n\r\n//create the popups\r\nfunction gjon(e,l) {\r\n    if (e.properties){\r\n        l.bindPopup(makePop(e.properties));\r\n    }if(e.properties.Status&&l.setRadius){\r\n          if(e.properties.Status==\"Completed\"){\r\n        l.setStyle({color:\"#000\",fillColor:\"#0000ff\",fillOpacity:0.8,opacity:1,weight:1});   \r\n       }else if(e.properties.Status==\"Active\"){\r\n        l.setStyle({color:\"#000\",fillColor:\"#ff0000\",fillOpacity:0.8,opacity:1,weight:1});   \r\n       }else{\r\n        l.setStyle({color:\"#000\",fillColor:\"#00ff00\",fillOpacity:0.8,opacity:1,weight:1});   \r\n       }\r\n    }else if(e.properties.Status&&l.setStyle){\r\n        \r\n       if(e.properties.Status==\"Completed\"){\r\n        l.setStyle({color:\"#0000ff\",fillOpacity:0.8,opacity:1});   \r\n       }else if(e.properties.Status==\"Active\"){\r\n        l.setStyle({color:\"#ff0000\",fillOpacity:0.8,opacity:1});   \r\n       }else{\r\n        l.setStyle({color:\"#00ff00\",fillOpacity:0.8,opacity:1});   \r\n       }\r\n    \r\n    }\r\n}\r\nsetStatuses();\r\n/*var icon={\r\n    red:L.icon({iconUrl:\"img/red.png\",iconSize: L.point(9, 9)}),\r\n    yellow:L.icon({iconUrl:\"img/yellow.png\",iconSize:  L.point(9, 9)}),\r\n    green:L.icon({iconUrl:\"img/green.png\",iconSize:  L.point(9, 9)})\r\n}*/\r\n//get the current bounds\r\n//the url. note we're only getting a subset of fields\r\nvar url = {};\r\nurl.line = \"http://services.massdot.state.ma.us/ArcGIS/rest/services/Projects/Project_Lines/MapServer/0/query?\";\r\nurl.point = \"http://services.massdot.state.ma.us/ArcGIS/rest/services/Projects/Project_Points/MapServer/0/query?\";\r\nurl.fields=\"ProjectNumber,District,Location,ProjectType,CompletionDate,BudgetSource,Department,Status,House,Senate,Congress\";\r\nurl.where={};\r\nurl.setW=function(k,v){\r\n url.where[k]=v;   \r\n};\r\nurl.rmW=function(k){\r\n    delete url.where[k];\r\n};\r\nurl.getW=function(){\r\n    var a = [];\r\n for(var k in url.where){\r\n     a.push(k+\"%3D%27\"+url.where[k]+\"%27\");\r\n }\r\n return a.join(\"%20AND%20\");\r\n};\r\nurl.end = \"&f=json\";\r\n/*\r\nthe following isn't really neccisary at the moment but might be helpful latter\r\n*/\r\nurl.spacial={\r\n    base:\"&outSR=4326&inSR=4326&geometryType=\",\r\n    sq:\"esriGeometryEnvelope&geometry=\",\r\n    getBBox:function(){url.spacial.bbox=\"-76.1627197265625,40.052847601823984,-65.9564208984375,44.57873024377564\";},//m.getBounds().toBBoxString();},\r\n    getSpatial:function(){\r\n      \r\n     return url.spacial.base+url.spacial.sq+url.spacial.bbox;\r\n    }\r\n    };\r\nurl.spacial.getBBox();\r\n//get the features\r\ngetLayers();\r\n//this is the call back from the jsonp ajax request\r\nfunction parseLine(data){\r\n/*you'd think you'd want to put the command to clear the old layer here instead of after zooming, but the markers are not not visible when you zoom, so it ends up being much less noticeable clearing them earlier*/\r\ntoGeo.send(\"toGeo\",data,function(e,d){gl.addData(d);g.addLayer(gl).addLayer(gp);});\r\nmakeAuto(data);\r\n}\r\nfunction parsePoint(data){\r\n/*you'd think you'd want to put the command to clear the old layer here instead of after zooming, but the markers are not not visible when you zoom, so it ends up being much less noticeable clearing them earlier*/\r\ntoGeo.send(\"toGeo\",data,function(e,d){gp.addData(d)});\r\nmakeAuto(data);\r\n}\r\n/*set up listeners on both drag and zoom events\r\nm.on(\"dragend\",redo);\r\nm.on(\"zoomend\",redo);\r\nthe function called by those event listeners*/\r\nfunction redo(){\r\n\r\n     g.clearLayers();\r\n    gl.clearLayers();\r\n    gp.clearLayers();//clear the current layers\r\n   getLayers();//ajax request\r\n}\r\n//the function called earlier to make the popup, it goes through all the attributes and makes them into a nice key value list\r\nfunction makePop(p){\r\nvar a = [];\r\nfunction up(word){return word.substring(0,1).toUpperCase()+word.substring(1);}\r\nfor(var key in p){\r\n     if (key!==\"Progress\"){\r\n         if (key===\"CompletionDate\"){\r\n             var d =  new Date(parseInt(p[key], 10));\r\n            a.push(key.replace(/(([a-z])([A-Z]))/g,\"$2 $3\")+\": \"+ d.toDateString());\r\n             }else if(key===\"Location\"||key===\"ProjectType\"){\r\n                 var lower = p[key].toLowerCase();\r\n                 var loc = lower.replace(/\\b\\w+\\b/g,up);\r\n                 a.push(key.replace(/(([a-z])([A-Z]))/g,\"$2 $3\")+\": \"+loc);\r\n                 }else{\r\n         var value;\r\n         if ([\"House\",\"Senate\",\"Congress\"].indexOf(key.replace(/(([a-z])([A-Z]))/g,\"$2 $3\")) >= 0){\r\n             value = p[key].replace(/([A-Z])/g,\" $1\").slice(1);\r\n         }else {\r\n             value = p[key];\r\n         }\r\n     a.push(key.replace(/(([a-z])([A-Z]))/g,\"$2 $3\")+\": \"+value);\r\n         }\r\n     }\r\n }\r\n return a.join(\"<br/>\");\r\n}\r\nfunction getLayers(){\r\n    ac={};\r\n    $.get(url.point+\"outFields=\"+url.fields+\"&where=\"+url.getW()+url.end+url.spacial.getSpatial(),parsePoint,\"JSONP\");\r\n    $.get(url.line+\"outFields=\"+url.fields+\"&where=\"+url.getW()+url.end+url.spacial.getSpatial(),parseLine,\"JSONP\");\r\n}\r\nfunction pl(f,latlng){\r\n    return L.circleMarker(latlng,{radius:4});\r\n}\r\n$(function() {\r\n        $( \"#tabs\" ).tabs({\r\n        collapsible: true,\r\n            selected: -1\r\n        });\r\n       $( \"input:submit,input:reset\" ).button();\r\n        $('input, textarea').placeholder();\r\n});\r\nvar marker = new L.Marker();\r\nvar old={};\r\nfunction geocode(){\r\n    old.center=m.getCenter();\r\n    old.zoom=m.getZoom();\r\n var address =$(\"#address\").val();\r\n var gURL = 'http://open.mapquestapi.com/nominatim/v1/search?countrycodes=us&exclude_place_ids=955483008,950010827&viewbox=-76.212158203125%2C44.46123053905882%2C-66.005859375%2C40.107487419012415&bounded=1&format=json&q=';\r\n  $.ajax({\r\n       type: \"GET\",\r\n       url: gURL + address,\r\n       dataType: 'jsonp',\r\n       jsonp: 'json_callback',\r\n       success: function (data, textStatus) {\r\n           if(textStatus==\"success\"){\r\n          var latlng = new L.LatLng(data[0].lat, data[0].lon);\r\n         marker.setLatLng(latlng);\r\n        \r\n         m.addLayer(marker);\r\n         m.setView(latlng,17);\r\n      \r\n           }\r\n       }\r\n  });\r\n  return false;\r\n}\r\n\r\nfunction resetgeo(){\r\n    m.removeLayer(marker);\r\n    m.setView(old.center, old.zoom);\r\n}\r\n$(\"#geocoder\").submit(geocode);\r\n$(\"#resetgeo\").click(resetgeo);\r\n$(\"#getStatus\").change(function(){\r\n      var val = $(\"#getStatus\").val();\r\n      if(val===\"\"){\r\n        url.rmW(\"Status\");\r\n      }else{\r\n        url.setW(\"Status\",val);\r\n      }\r\n      redo();\r\n    });\r\n$(\"#getDi\").change(function(){\r\n      var val = $(\"#getDi\").val();\r\n      if(val===\"\"){\r\n        url.rmW(\"Department\");\r\n      }else{\r\n        url.setW(\"Department\",val); \r\n      }\r\n      redo();\r\n    });\r\nfunction makeAuto(d){\r\n   var f= d.features;\r\n   var len = d.features.length;\r\n   var i = 0;\r\n   dd=[];\r\n   while(i<len){\r\n       dd.push({House:f[i].attributes.House,Senate:f[i].attributes.Senate,Congress:f[i].attributes.Congress});\r\n       if(!ac[f[i].attributes.ProjectNumber]){\r\n       ac[f[i].attributes.ProjectNumber]=d.geometryType;\r\n       }\r\n       i++;\r\n    }\r\nif(sw===0){sw++;}else if(sw===1){\r\n    sw--;\r\n    var a=[];\r\n    for(var k in ac){\r\n     a.push(k);   \r\n    }\r\n    \r\n$(\"#ProjNum\").autocomplete({source:a});\r\n}\r\n}\r\n$(\"#ProjLookUp\").submit(lookUp);\r\nvar b;\r\nfunction lookUp(){\r\n    b= [m.getCenter(),m.getZoom()];\r\n    var t= {esriGeometryPoint:\"point\",esriGeometryPolyline:\"line\"};\r\n    var v=$(\"#ProjNum\").val();\r\n    $.get(url[t[ac[v]]]+\"outFields=\"+url.fields+\"&where=ProjectNumber%3D%27\"+v+\"%27\"+url.end+url.spacial.getSpatial(),parseLookUp,\"JSONP\");\r\n    function parseLookUp(data){\r\n        toGeo.send(\"toGeo\",data,function(e,d){\r\n            lu.addData(d);\r\n            m.fitBounds(lu.getBounds());\r\n            });\r\n    }\r\n   \r\nreturn false;\r\n}\r\n$(\"#ProjReset\").click(function(){\r\n    lu.clearLayers();\r\n    m.setView(b[0],b[1]);\r\n    });\r\nfunction setStatuses(){\r\nvar statuses = [\"Active\",\"Advertised with a Bid\", \"Advertised without a Bid\", \"Completed\", \"Future\", \"Scheduled to be Advertised\"];\r\nvar len = statuses.length;\r\nvar i = 0;\r\nwhile(i<len){\r\n $(\"#getStatus\").append(\"<option value='\"+ statuses[i]+\"'>\"+statuses[i]+\"</option>\");\r\n i++;\r\n}\r\n}\r\n(function(){\r\n    (function(){\r\n        var chambers = [\"House\",\"Senate\",\"Congress\"];\r\n        var frag = document.createDocumentFragment();\r\n        var sel = document.createElement(\"select\");\r\n        sel.id=\"getCham\";\r\n        var makeOpt = function(v,tx){\r\n          var opt = document.createElement(\"option\");  \r\n          opt.value=v;\r\n          opt.innerHTML=tx;\r\n         sel.appendChild(opt); \r\n        };\r\n    \r\n        makeOpt(\"All\",\"Pick a Chamber\");\r\n        var len = chambers.length;\r\n        var i = 0;\r\n        while(i<len){\r\n            makeOpt(chambers[i],chambers[i]);\r\n            i++;\r\n        }\r\n        frag.appendChild(sel);\r\n        var qDiv = document.getElementById(\"query\");\r\n        qDiv.appendChild(frag);\r\n    }());\r\n(function(){\r\n    var sel = $(\"#getCham\");\r\n    toGeo.add(\"getHouses\",function(chamber,data){\r\n        var out = [];\r\n        var len = data.length;\r\n        var i = 0;\r\n        while(i<len){\r\n            var rep = data[i][chamber];\r\n            if(out.indexOf(rep)==-1){\r\n            out.push(rep);\r\n            }\r\n            i++;\r\n        }\r\n        out.sort();\r\n        return out;\r\n    });\r\n    sel.change(function(){\r\n        var oDiv = document.getElementById(\"getRep\");\r\n        if(oDiv){\r\n            oDiv.parentNode.removeChild(oDiv);\r\n        }\r\n        if(sel.val()!==\"All\"){\r\n            toGeo.send(\"getHouses\",sel.val(),dd,function(err,data){\r\n                var len = data.length;\r\n                var i = 0;\r\n                var frag = document.createDocumentFragment();\r\n                var selc = document.createElement(\"select\");\r\n                selc.id=\"getRep\";\r\n                var makeOpt = function(v,tx){\r\n          var opt = document.createElement(\"option\");  \r\n          opt.value=v;\r\n          opt.innerHTML=tx;\r\n         selc.appendChild(opt); \r\n        };\r\n        makeOpt(\"All\",\"Select A Rep\");\r\n                while(i<len){\r\n                    makeOpt(data[i],data[i].replace(/((?!^)([A-Z]))/g,\" $2\"));\r\n                i++;\r\n                }\r\n                frag.appendChild(selc);\r\n                var qDiv = document.getElementById(\"query\");\r\n        qDiv.appendChild(frag);\r\n            });\r\n        }\r\n    })\r\n}())\r\n}())\r\n\r\n"]],"start1":0,"start2":0,"length1":0,"length2":11722}]],"length":11722}
{"contributors":[],"silentsave":true,"ts":1357150944278,"patch":[[{"diffs":[[0,"nction(k){\r\n"],[1,"    if()\r\n"],[0,"    delete u"]],"start1":3217,"start2":3217,"length1":24,"length2":34}]],"length":11732,"saved":false}
{"ts":1357150945289,"patch":[[{"diffs":[[0,"\n    if("],[1,"type"],[0,")\r\n    d"]],"start1":3228,"start2":3228,"length1":16,"length2":20}]],"length":11736,"saved":false}
{"ts":1357150951981,"patch":[[{"diffs":[[0," if(type"],[1,"of k"],[0,")\r\n    d"]],"start1":3232,"start2":3232,"length1":16,"length2":20}]],"length":11740,"saved":false}
{"ts":1357150953122,"patch":[[{"diffs":[[0,"typeof k"],[1," ="],[0,")\r\n    d"]],"start1":3236,"start2":3236,"length1":16,"length2":18}]],"length":11742,"saved":false}
{"ts":1357150954872,"patch":[[{"diffs":[[0,"peof k ="],[1,"== \"\""],[0,")\r\n    d"]],"start1":3238,"start2":3238,"length1":16,"length2":21}]],"length":11747,"saved":false}
{"ts":1357150959190,"patch":[[{"diffs":[[0," k === \""],[1,"string"],[0,"\")\r\n    "]],"start1":3242,"start2":3242,"length1":16,"length2":22}]],"length":11753,"saved":false}
{"ts":1357150962171,"patch":[[{"diffs":[[0,"string\")"],[1,"\"\""],[0,"\r\n    de"]],"start1":3250,"start2":3250,"length1":16,"length2":18}]],"length":11755,"saved":false}
{"ts":1357150964954,"patch":[[{"diffs":[[0,"string\")"],[-1,"\"\""],[1,"{"],[0,"\r\n    de"]],"start1":3250,"start2":3250,"length1":18,"length2":17}]],"length":11754,"saved":false}
{"ts":1357150965907,"patch":[[{"diffs":[[0,"re[k];\r\n"],[1,"    \r\n"],[0,"};\r\nurl."]],"start1":3279,"start2":3279,"length1":16,"length2":22}]],"length":11760,"saved":false}
{"ts":1357150966797,"patch":[[{"diffs":[[0,"];\r\n    "],[1,"}"],[0,"\r\n};\r\nur"]],"start1":3283,"start2":3283,"length1":16,"length2":17}]],"length":11761,"saved":false}
{"ts":1357150967796,"patch":[[{"diffs":[[0,";\r\n    }"],[1,"el"],[0,"\r\n};\r\nur"]],"start1":3284,"start2":3284,"length1":16,"length2":18}]],"length":11763,"saved":false}
{"ts":1357150970439,"patch":[[{"diffs":[[0,"\n    }el"],[1,"se{\r\n        \r\n    }"],[0,"\r\n};\r\nur"]],"start1":3286,"start2":3286,"length1":16,"length2":36}]],"length":11783,"saved":false}
{"ts":1357151027367,"patch":[[{"diffs":[[0,"e{\r\n        "],[1,"var len "],[0,"\r\n    }\r\n};\r"]],"start1":3295,"start2":3295,"length1":24,"length2":32}]],"length":11791,"saved":false}
{"ts":1357151028910,"patch":[[{"diffs":[[0,"var len "],[1,"= 3"],[0,"\r\n    }\r"]],"start1":3307,"start2":3307,"length1":16,"length2":19}]],"length":11794,"saved":false}
{"ts":1357151029933,"patch":[[{"diffs":[[0," len = 3"],[1,",i"],[0,"\r\n    }\r"]],"start1":3310,"start2":3310,"length1":16,"length2":18}]],"length":11796,"saved":false}
{"ts":1357151032424,"patch":[[{"diffs":[[0," len = 3"],[-1,",i"],[0,"\r\n    }\r"]],"start1":3310,"start2":3310,"length1":18,"length2":16}]],"length":11794,"saved":false}
{"ts":1357151033429,"patch":[[{"diffs":[[0,"r len = "],[-1,"3"],[1,"k"],[0,"\r\n    }\r"]],"start1":3309,"start2":3309,"length1":17,"length2":17}]],"length":11794,"saved":false}
{"ts":1357151034206,"patch":[[{"diffs":[[0," len = k"],[1,".len"],[0,"\r\n    }\r"]],"start1":3310,"start2":3310,"length1":16,"length2":20}]],"length":11798,"saved":false}
{"ts":1357151036008,"patch":[[{"diffs":[[0," = k.len"],[1,"gth;"],[0,"\r\n    }\r"]],"start1":3314,"start2":3314,"length1":16,"length2":20}]],"length":11802,"saved":false}
{"ts":1357151037204,"patch":[[{"diffs":[[0," k.length;\r\n"],[1,"        \r\n"],[0,"    }\r\n};\r\nu"]],"start1":3316,"start2":3316,"length1":24,"length2":34}]],"length":11812,"saved":false}
{"ts":1357151038062,"patch":[[{"diffs":[[0,"h;\r\n        "],[1,"va"],[0,"\r\n    }\r\n};\r"]],"start1":3324,"start2":3324,"length1":24,"length2":26}]],"length":11814,"saved":false}
{"ts":1357151039207,"patch":[[{"diffs":[[0,"      va"],[1,"r i -"],[0,"\r\n    }\r"]],"start1":3330,"start2":3330,"length1":16,"length2":21}]],"length":11819,"saved":false}
{"ts":1357151040546,"patch":[[{"diffs":[[0,"  var i "],[-1,"-"],[1,"= "],[0,"\r\n    }\r"]],"start1":3334,"start2":3334,"length1":17,"length2":18}]],"length":11820,"saved":false}
{"ts":1357151041534,"patch":[[{"diffs":[[0,"var i = "],[1,"-"],[0,"\r\n    }\r"]],"start1":3336,"start2":3336,"length1":16,"length2":17}]],"length":11821,"saved":false}
{"ts":1357151043910,"patch":[[{"diffs":[[0,"var i = "],[-1,"-"],[0,"\r\n    }\r"]],"start1":3336,"start2":3336,"length1":17,"length2":16}]],"length":11820,"saved":false}
{"ts":1357151109384,"patch":[[{"diffs":[[0,"var i = "],[1,"0;\r\n        while(i<len){\r\n        \r\n        i++;\r\n        }"],[0,"\r\n    }\r"]],"start1":3336,"start2":3336,"length1":16,"length2":76}]],"length":11880,"saved":false}
{"ts":1357151127935,"patch":[[{"diffs":[[0,"<len){\r\n        "],[1,"if"],[0,"\r\n        i++;\r\n"]],"start1":3363,"start2":3363,"length1":32,"length2":34}]],"length":11882,"saved":false}
{"ts":1357151130503,"patch":[[{"diffs":[[0,"      if"],[1,"(){"],[0,"\r\n      "]],"start1":3373,"start2":3373,"length1":16,"length2":19}]],"length":11885,"saved":false}
{"ts":1357151131603,"patch":[[{"diffs":[[0,"     if(){\r\n"],[1,"            \r\n        }\r\n"],[0,"        i++;"]],"start1":3374,"start2":3374,"length1":24,"length2":49}]],"length":11910,"saved":false}
{"ts":1357151142789,"patch":[[{"diffs":[[0,"){\r\n            "],[1,"k"],[0,"\r\n        }\r\n   "]],"start1":3382,"start2":3382,"length1":32,"length2":33}]],"length":11911,"saved":false}
{"ts":1357151144622,"patch":[[{"diffs":[[0,"       k"],[1,"[i]"],[0,"\r\n      "]],"start1":3391,"start2":3391,"length1":16,"length2":19}]],"length":11914,"saved":false}
{"ts":1357151149869,"patch":[[{"diffs":[[0,"    k[i]"],[1,"]"],[0,"\r\n      "]],"start1":3394,"start2":3394,"length1":16,"length2":17}]],"length":11915,"saved":false}
{"ts":1357151154869,"patch":[[{"diffs":[[0,"        "],[1,"url.where"],[0,"k[i]]\r\n "]],"start1":3390,"start2":3390,"length1":16,"length2":25}]],"length":11924,"saved":false}
{"ts":1357151162367,"patch":[[{"diffs":[[0,"rl.where"],[1,"["],[0,"k[i]]\r\n "]],"start1":3399,"start2":3399,"length1":16,"length2":17}]],"length":11925,"saved":false}
{"ts":1357151168914,"patch":[[{"diffs":[[0,"     if("],[1,"url.where[k[i]]"],[0,"){\r\n    "]],"start1":3374,"start2":3374,"length1":16,"length2":31},{"diffs":[[0,"        "],[-1,"url.where[k[i]]"],[0,"\r\n      "]],"start1":3405,"start2":3405,"length1":31,"length2":16}]],"length":11925,"saved":false}
{"ts":1357151175822,"patch":[[{"diffs":[[0,"){\r\n            "],[1,"delete url.where[k[i]]"],[0,"\r\n        }\r\n   "]],"start1":3397,"start2":3397,"length1":32,"length2":54}]],"length":11947,"saved":false}
{"ts":1357151181224,"patch":[[{"diffs":[[0,"re[k[i]]"],[1,";"],[0,"\r\n      "]],"start1":3427,"start2":3427,"length1":16,"length2":17}]],"length":11948,"saved":false}
{"ts":1357151260246,"patch":[[{"diffs":[[0,"yId(\"getRep\");\r\n"],[1,"        url.rmW\r\n"],[0,"        if(oDiv)"]],"start1":10944,"start2":10944,"length1":32,"length2":49}]],"length":11965,"saved":false}
{"ts":1357151262143,"patch":[[{"diffs":[[0," url.rmW"],[1,"()"],[0,"\r\n      "]],"start1":10967,"start2":10967,"length1":16,"length2":18}]],"length":11967,"saved":false}
{"ts":1357151272479,"patch":[[{"diffs":[[0,"url.rmW("],[1,"[\"House\",\"Senate\",\"Congress\"]"],[0,")\r\n     "]],"start1":10968,"start2":10968,"length1":16,"length2":45}]],"length":11996,"saved":false}
{"ts":1357151277059,"patch":[[{"diffs":[[0,"gress\"])"],[1,";"],[0,"\r\n      "]],"start1":10998,"start2":10998,"length1":16,"length2":17}]],"length":11997,"saved":false}
{"ts":1357151636031,"patch":[[{"diffs":[[0,";\r\n    });\r\n"],[1,"    sel\r\n"],[0,"    sel.chan"]],"start1":10865,"start2":10865,"length1":24,"length2":33}]],"length":12006,"saved":false}
{"ts":1357151638193,"patch":[[{"diffs":[[0,"\n    sel"],[1,".on"],[0,"\r\n    se"]],"start1":10876,"start2":10876,"length1":16,"length2":19}]],"length":12009,"saved":false}
{"ts":1357151642840,"patch":[[{"diffs":[[0,"  sel.on"],[1,"();"],[0,"\r\n    se"]],"start1":10879,"start2":10879,"length1":16,"length2":19}]],"length":12012,"saved":false}
{"ts":1357151672410,"patch":[[{"diffs":[[0," sel.on("],[1,"\"change\""],[0,");\r\n    "]],"start1":10880,"start2":10880,"length1":16,"length2":24}]],"length":12020,"saved":false}
{"ts":1357151674894,"patch":[[{"diffs":[[0,"\"change\""],[1,",#"],[0,");\r\n    "]],"start1":10888,"start2":10888,"length1":16,"length2":18}]],"length":12022,"saved":false}
{"ts":1357151675907,"patch":[[{"diffs":[[0,"change\","],[-1,"#"],[1,"\"\""],[0,");\r\n    "]],"start1":10889,"start2":10889,"length1":17,"length2":18}]],"length":12023,"saved":false}
{"ts":1357151677825,"patch":[[{"diffs":[[0,"hange\",\""],[1,"getRep"],[0,"\");\r\n   "]],"start1":10890,"start2":10890,"length1":16,"length2":22}]],"length":12029,"saved":false}
{"ts":1357151681376,"patch":[[{"diffs":[[0,"hange\",\""],[1,"#"],[0,"getRep\")"]],"start1":10890,"start2":10890,"length1":16,"length2":17}]],"length":12030,"saved":false}
{"ts":1357151685654,"patch":[[{"diffs":[[0,"e\",\"#getRep\""],[1,","],[0,");\r\n    sel."]],"start1":10894,"start2":10894,"length1":24,"length2":25}]],"length":12031,"saved":false}
{"ts":1357151709677,"patch":[[{"diffs":[[0,"getRep\","],[1,"function(){\r\n        \r\n    }"],[0,");\r\n    "]],"start1":10899,"start2":10899,"length1":16,"length2":44}]],"length":12059,"saved":false}
{"ts":1357151749650,"patch":[[{"diffs":[[0,"){\r\n        "],[1,"url.setW(\"Status\",val);"],[0,"\r\n    });\r\n "]],"start1":10916,"start2":10916,"length1":24,"length2":47}]],"length":12082,"saved":false}
{"ts":1357151756259,"patch":[[{"diffs":[[0,"   url.setW("],[-1,"\"Status\""],[1,"sel.val()"],[0,",val);\r\n    "]],"start1":10925,"start2":10925,"length1":32,"length2":33}]],"length":12083,"saved":false}
{"ts":1357151760518,"patch":[[{"diffs":[[0,"l.val(),"],[-1,"val"],[1,"#"],[0,");\r\n    "]],"start1":10939,"start2":10939,"length1":19,"length2":17}]],"length":12081,"saved":false}
{"ts":1357151762410,"patch":[[{"diffs":[[0,"l.val(),"],[-1,"#"],[0,");\r\n    "]],"start1":10939,"start2":10939,"length1":17,"length2":16}]],"length":12080,"saved":false}
{"ts":1357151765270,"patch":[[{"diffs":[[0,"l.val(),"],[1,"val"],[0,");\r\n    "]],"start1":10939,"start2":10939,"length1":16,"length2":19}]],"length":12083,"saved":false}
{"ts":1357151768831,"patch":[[{"diffs":[[0,"p\",function(){\r\n"],[1,"        var v\r\n"],[0,"        url.setW"]],"start1":10904,"start2":10904,"length1":32,"length2":47}]],"length":12098,"saved":false}
{"ts":1357151770980,"patch":[[{"diffs":[[0,"   var v"],[1,"al = "],[0,"\r\n      "]],"start1":10925,"start2":10925,"length1":16,"length2":21}]],"length":12103,"saved":false}
{"ts":1357151775024,"patch":[[{"diffs":[[0,"r val = "],[1,"$()"],[0,"\r\n      "]],"start1":10930,"start2":10930,"length1":16,"length2":19}]],"length":12106,"saved":false}
{"ts":1357151782260,"patch":[[{"diffs":[[0,"val = $("],[1,"\"#getRep\""],[0,")\r\n     "]],"start1":10932,"start2":10932,"length1":16,"length2":25}]],"length":12115,"saved":false}
{"ts":1357151785031,"patch":[[{"diffs":[[0,"getRep\")"],[1,".val*"],[0,"\r\n      "]],"start1":10942,"start2":10942,"length1":16,"length2":21}]],"length":12120,"saved":false}
{"ts":1357151785822,"patch":[[{"diffs":[[0,"ep\").val"],[-1,"*"],[0,"\r\n      "]],"start1":10946,"start2":10946,"length1":17,"length2":16}]],"length":12119,"saved":false}
{"ts":1357151786644,"patch":[[{"diffs":[[0,"ep\").val"],[1,"()"],[0,"\r\n      "]],"start1":10946,"start2":10946,"length1":16,"length2":18}]],"length":12121,"saved":false}
{"ts":1357151787309,"patch":[[{"diffs":[[0,"\").val()"],[1,";"],[0,"\r\n      "]],"start1":10948,"start2":10948,"length1":16,"length2":17}]],"length":12122,"saved":false}
{"ts":1357151788591,"patch":[[{"diffs":[[0,"p\").val();\r\n"],[1,"        \r\n"],[0,"        url."]],"start1":10947,"start2":10947,"length1":24,"length2":34}]],"length":12132,"saved":false}
{"ts":1357151792338,"patch":[[{"diffs":[[0,"val();\r\n        "],[1,"if"],[0,"\r\n        url.se"]],"start1":10951,"start2":10951,"length1":32,"length2":34}]],"length":12134,"saved":false}
{"ts":1357151793953,"patch":[[{"diffs":[[0,"      if"],[1,"(va)"],[0,"\r\n      "]],"start1":10961,"start2":10961,"length1":16,"length2":20}]],"length":12138,"saved":false}
{"ts":1357151796355,"patch":[[{"diffs":[[0,"   if(va"],[1,"l==="],[0,")\r\n     "]],"start1":10964,"start2":10964,"length1":16,"length2":20}]],"length":12142,"saved":false}
{"ts":1357151805013,"patch":[[{"diffs":[[0,"f(val==="],[1,"\"All\""],[0,")\r\n     "]],"start1":10968,"start2":10968,"length1":16,"length2":21}]],"length":12147,"saved":false}
{"ts":1357151807482,"patch":[[{"diffs":[[0,"==\"All\")"],[1,"{\r\n            \r\n        }"],[0,"\r\n      "]],"start1":10974,"start2":10974,"length1":16,"length2":42}]],"length":12173,"saved":false}
{"ts":1357151815613,"patch":[[{"diffs":[[0,"){\r\n            "],[1,"url.rmW("],[0,"\r\n        }\r\n   "]],"start1":10981,"start2":10981,"length1":32,"length2":40}]],"length":12181,"saved":false}
{"ts":1357151820192,"patch":[[{"diffs":[[0,"url.rmW("],[1,"sel.val()"],[0,"\r\n      "]],"start1":10997,"start2":10997,"length1":16,"length2":25}]],"length":12190,"saved":false}
{"ts":1357151821583,"patch":[[{"diffs":[[0,"el.val()"],[1,")"],[0,"\r\n      "]],"start1":11006,"start2":11006,"length1":16,"length2":17}]],"length":12191,"saved":false}
{"ts":1357151828785,"patch":[[{"diffs":[[0,"l.val())"],[1,";"],[0,"\r\n      "]],"start1":11007,"start2":11007,"length1":16,"length2":17}]],"length":12192,"saved":false}
{"ts":1357151830763,"patch":[[{"diffs":[[0,"l());\r\n        }"],[1,"else{"],[0,"\r\n        url.se"]],"start1":11011,"start2":11011,"length1":32,"length2":37}]],"length":12197,"saved":false}
{"ts":1357151831632,"patch":[[{"diffs":[[0,"        }else{\r\n"],[1,"            \r\n        }\r\n"],[0,"        url.setW"]],"start1":11018,"start2":11018,"length1":32,"length2":57}]],"length":12222,"saved":false}
{"ts":1357151837185,"patch":[[{"diffs":[[0,"        "],[-1,"\r\n        }\r\n        "],[0,"url.setW"]],"start1":11038,"start2":11038,"length1":37,"length2":16},{"diffs":[[0,"al(),val);\r\n"],[1,"        }\r\n        \r\n"],[0,"    });\r\n   "]],"start1":11060,"start2":11060,"length1":24,"length2":45}]],"length":12222,"saved":false}
{"ts":1357151855227,"patch":[[{"diffs":[[0," }\r\n        "],[1," redo();"],[0,"\r\n    });\r\n "]],"start1":11079,"start2":11079,"length1":24,"length2":32}]],"length":12230,"saved":false}
{"ts":1357152327247,"patch":[[{"diffs":[[0,");\r\n    "],[-1,"sel"],[1,"$(\"\")"],[0,".on(\"cha"]],"start1":10873,"start2":10873,"length1":19,"length2":21}]],"length":12232,"saved":false}
{"ts":1357152329917,"patch":[[{"diffs":[[0,"\n    $(\""],[1,"#qu"],[0,"\").on(\"c"]],"start1":10876,"start2":10876,"length1":16,"length2":19}]],"length":12235,"saved":false}
{"ts":1357152332292,"patch":[[{"diffs":[[0,"  $(\"#qu"],[1,"ery"],[0,"\").on(\"c"]],"start1":10879,"start2":10879,"length1":16,"length2":19}]],"length":12238,"saved":false}
