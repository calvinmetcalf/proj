{"ts":1356021601034,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1356021603905,"patch":[[{"diffs":[[1,"var Communist = function(fun){\r\n    if(typeof fun !== \"function\") {return;} \r\n    if (Worker){\r\n        window.URL = window.URL || window.webkiURL;\r\n        var func = fun.toString();\r\n        var body = \"var f = \" + func + \";self.addEventListener('message', function(e) {self.postMessage(f(e.data))})\";\r\n        var blob = new Blob([body], { \"type\" : \"text\\/javascript\" });\r\n        var bUrl = window.URL.createObjectURL(blob);\r\n        var _worker = new Worker(bUrl);\r\n        this.send = function(data,cb){\r\n        _worker.postMessage(data);\r\n  \r\n             _worker.onmessage = function(e){cb(e.data)};\r\n             return true;\r\n       \r\n        \r\n        };\r\n        this.close = function(){\r\n            _worker.terminate();\r\n            return true;\r\n        };\r\n    }else{\r\n        var _func = fun;\r\n        this.send = function(data,cb){\r\n            cb(_func(data));\r\n            return true;\r\n        };\r\n        this.close = function(){\r\n            return true;\r\n        };\r\n    }\r\n};\r\n\r\nvar communist = function(fun){\r\n    return new Communist(fun);\r\n};"]],"start1":0,"start2":0,"length1":0,"length2":1071}]],"length":1071,"saved":false}
{"ts":1356023967240,"patch":[[{"diffs":[[0,"var "],[1,"Communist, communist,\r\n  __slice = [].slice;\r\n\r\n"],[0,"Communis"]],"start1":0,"start2":0,"length1":12,"length2":60},{"diffs":[[0,"fun)"],[1," "],[0,"{\r\n  "],[1,"var bUrl, blob, body, func, _func, _worker;\r\n"],[0,"  if"],[1," "],[0,"(typ"]],"start1":73,"start2":73,"length1":17,"length2":64},{"diffs":[[0,"\") {"],[1,"\r\n    "],[0,"return;"],[-1,"} "],[0,"\r\n  "],[1,"}\r\n"],[0,"  if"]],"start1":158,"start2":158,"length1":21,"length2":28},{"diffs":[[0,"(Worker)"],[1," "],[0,"{\r\n    "],[-1,"   "],[-1," "],[0,"window.U"]],"start1":187,"start2":187,"length1":27,"length2":24},{"diffs":[[0,"L;\r\n    "],[-1,"    var "],[0,"func = f"]],"start1":244,"start2":244,"length1":24,"length2":16},{"diffs":[[0,");\r\n    "],[-1," "],[-1,"   var "],[0,"body = \""]],"start1":272,"start2":272,"length1":24,"length2":16},{"diffs":[[0,"essage(f"],[-1,"("],[1,".apply(null, "],[0,"e.data))"]],"start1":365,"start2":365,"length1":17,"length2":29},{"diffs":[[0,"\";\r\n    "],[-1,"    var "],[0,"blob = n"]],"start1":396,"start2":396,"length1":24,"length2":16},{"diffs":[[0,"], {"],[1,"\r\n     "],[0," "],[-1,"\""],[0,"type"],[-1,"\" "],[0,": \"text"],[-1,"\\"],[0,"/jav"]],"start1":425,"start2":425,"length1":24,"length2":27},{"diffs":[[0,"ascript\""],[-1,""],[0,""],[1,"\r\n   "],[0," });\r\n  "]],"start1":452,"start2":452,"length1":16,"length2":21},{"diffs":[[0,");\r\n    "],[-1,"    var "],[0,"bUrl = w"]],"start1":467,"start2":467,"length1":24,"length2":16},{"diffs":[[0,");\r\n    "],[-1,"    var "],[0,"_worker "]],"start1":513,"start2":513,"length1":24,"length2":16},{"diffs":[[0,"bUrl);\r\n    "],[-1," "],[-1,"   "],[0,"this.send = "]],"start1":542,"start2":542,"length1":28,"length2":24},{"diffs":[[0," = function("],[1,") {\r\n      var cb, "],[0,"data,"],[-1,"cb){"],[1," _i;"],[0,"\r\n  "],[1,"    data = 2 <= arguments.length ? __slice.call(arguments, 0, _i = arguments.length - 1) : (_i = 0, []), cb = arguments[_i++];\r\n"],[0,"      _worke"]],"start1":563,"start2":563,"length1":37,"length2":184},{"diffs":[[0,"ta);\r\n  "],[-1,"\r\n         "],[0,"    _wor"]],"start1":763,"start2":763,"length1":27,"length2":16},{"diffs":[[0,"ction(e)"],[-1,"{"],[1," {\r\n        return "],[0,"cb(e.dat"]],"start1":798,"start2":798,"length1":17,"length2":35},{"diffs":[[0,"(e.data)"],[-1,"}"],[0,";\r\n     "]],"start1":827,"start2":827,"length1":17,"length2":16},{"diffs":[[0,"ta);\r\n      "],[-1," "],[1,"};\r\n"],[0,"      return"]],"start1":832,"start2":832,"length1":25,"length2":28},{"diffs":[[0,"e;\r\n"],[-1,"       \r\n        \r\n    "],[0,"    "]],"start1":864,"start2":864,"length1":31,"length2":8},{"diffs":[[0,"e;\r\n    };\r\n    "],[-1,"   "],[1,"return"],[0," this.close = fu"]],"start1":864,"start2":864,"length1":35,"length2":38},{"diffs":[[0,"ose = function()"],[1," "],[0,"{\r\n            _"]],"start1":894,"start2":894,"length1":32,"length2":33},{"diffs":[[0,"\r\n      "],[-1,"    "],[-1,"  "],[0,"_worker."]],"start1":912,"start2":912,"length1":22,"length2":16},{"diffs":[[0,"rminate();\r\n"],[-1,"      "],[0,"      return"]],"start1":930,"start2":930,"length1":30,"length2":24},{"diffs":[[0,"    "],[-1,"  "],[-1,"  "],[0,"};\r\n  "],[-1,"  "],[0,"}"],[1," "],[0,"else"],[1," "],[0,"{\r\n    "],[-1,"    var "],[0,"_fun"]],"start1":962,"start2":962,"length1":40,"length2":28},{"diffs":[[0,"= fun;\r\n"],[-1,"    "],[0,"    this"]],"start1":992,"start2":992,"length1":20,"length2":16},{"diffs":[[0,"ion("],[1,") {\r\n      var cb, "],[0,"data,"],[-1,"cb){"],[1," _i;"],[0,"\r\n      "],[1,"data = 2 <= arguments.length ? __slice.call(arguments, 0, _i = arguments.length - 1) : (_i = 0, []), cb = arguments[_i++];\r\n"],[0,"    "]],"start1":1021,"start2":1021,"length1":25,"length2":168},{"diffs":[[0,"cb(_func"],[-1,"("],[1,".apply(null, "],[0,"data));\r"]],"start1":1191,"start2":1191,"length1":17,"length2":29},{"diffs":[[0,"ata));\r\n"],[-1,"      "],[0,"      re"]],"start1":1213,"start2":1213,"length1":22,"length2":16},{"diffs":[[0,"    "],[-1,"   "],[-1," "],[0,"};\r\n    "],[-1,"   "],[1,"return"],[0," thi"]],"start1":1241,"start2":1241,"length1":23,"length2":22},{"diffs":[[0,"nction()"],[1," "],[0,"{\r\n"],[-1,"      "],[0,"      re"]],"start1":1275,"start2":1275,"length1":25,"length2":20},{"diffs":[[0,"e;\r\n    "],[-1,"   "],[-1," "],[0,"};\r\n"],[-1,"  "],[0,"  }\r\n};\r"]],"start1":1303,"start2":1303,"length1":26,"length2":20},{"diffs":[[0,"\r\n};\r\n\r\n"],[-1,"var "],[0,"communis"]],"start1":1318,"start2":1318,"length1":20,"length2":16},{"diffs":[[0,"ion(fun)"],[1," "],[0,"{\r\n"],[-1,"  "],[0,"  return"]],"start1":1343,"start2":1343,"length1":21,"length2":20}]],"length":1387,"saved":false}
{"ts":1356024270062,"patch":[[{"diffs":[[0,"e;\r\n    };\r\n    "],[-1,"return "],[0,"this.close = fun"]],"start1":864,"start2":864,"length1":39,"length2":32},{"diffs":[[0,"};\r\n    "],[-1,"return "],[0,"this.clo"]],"start1":1238,"start2":1238,"length1":23,"length2":16}]],"length":1373,"saved":false}
{"ts":1356024399285,"patch":[[{"diffs":[[0,"        "],[-1,"return "],[0,"cb(e.dat"]],"start1":810,"start2":810,"length1":23,"length2":16},{"diffs":[[0,"b(e.data);\r\n"],[1,"        return true;\r\n"],[0,"      };\r\n  "]],"start1":819,"start2":819,"length1":24,"length2":46},{"diffs":[[0,"    };\r\n"],[1,"    return true;\r\n"],[0,"  } else"]],"start1":970,"start2":970,"length1":16,"length2":34},{"diffs":[[0,"    };\r\n"],[1,"    return true;\r\n"],[0,"  }\r\n};\r"]],"start1":1326,"start2":1326,"length1":16,"length2":34}]],"length":1424,"saved":false}
{"ts":1356025343880,"patch":[[{"diffs":[[-1,"var Communist, communist,\r\n  __slice = [].slice;\r\n\r\nCommunist = function(fun) {\r\n  var bUrl, blob, body, func, _func, _worker;\r\n  "],[1,"(function(){var e,t,n=[].slice;e=function(e){var t,r,u,s,a,i;"],[0,"if"],[-1," "],[0,"(typeof "],[-1,"fun "],[1,"e"],[0,"!=="],[-1," "],[0,"\"fun"]],"start1":0,"start2":0,"length1":153,"length2":79},{"diffs":[[0,"on\")"],[-1," {\r\n    return;\r\n  }\r\n  "],[1,"{return}"],[0,"if"],[-1," "],[0,"(Worker)"],[-1," {\r\n    "],[1,"{"],[0,"wind"]],"start1":82,"start2":82,"length1":51,"length2":27},{"diffs":[[0,"ndow.URL"],[-1," = "],[1,"="],[0,"window.U"]],"start1":107,"start2":107,"length1":19,"length2":17},{"diffs":[[0,".URL"],[-1," "],[0,"||"],[-1," "],[0,"wind"]],"start1":122,"start2":122,"length1":12,"length2":10},{"diffs":[[0,"URL;"],[-1,"\r\n    func = fun.toString();\r\n    body = \"var f = \" + func + "],[1,"s=e.toString();u=\"var f = \"+s+"],[0,"\";se"]],"start1":140,"start2":140,"length1":69,"length2":38},{"diffs":[[0,"})\";"],[-1,"\r\n    blob = new Blob([body], {\r\n      "],[1,"r=new Blob([u],{"],[0,"type:"],[-1," "],[0,"\"tex"]],"start1":261,"start2":261,"length1":53,"length2":29},{"diffs":[[0,"ipt\""],[-1,"\r\n    });\r\n    bUrl = "],[1,"});t="],[0,"wind"]],"start1":299,"start2":299,"length1":30,"length2":13},{"diffs":[[0,"URL("],[-1,"blob);\r\n    _worker = new Worker(bUrl);\r\n    "],[1,"r);i=new Worker(t);"],[0,"this"]],"start1":331,"start2":331,"length1":53,"length2":27},{"diffs":[[0,"ker(t);this.send"],[-1," = "],[1,"="],[0,"function() {\r\n  "]],"start1":347,"start2":347,"length1":35,"length2":33},{"diffs":[[0,"on()"],[-1," {\r\n      var cb, data, _i;\r\n      data = 2 "],[1,"{var e,t,r;t=2"],[0,"<="],[-1," "],[0,"argu"]],"start1":370,"start2":370,"length1":55,"length2":24},{"diffs":[[0,"ments.length"],[-1," ? __slice"],[1,"?n"],[0,".call(argume"]],"start1":394,"start2":394,"length1":34,"length2":26},{"diffs":[[0,"l(arguments,"],[-1," "],[0,"0,"],[-1," _i = "],[1,"r="],[0,"arguments.le"]],"start1":412,"start2":412,"length1":33,"length2":28},{"diffs":[[0,"ngth"],[-1," - 1) : (_i = "],[1,"-1):(r="],[0,"0,"],[-1," "],[0,"[]),"],[-1," cb = "],[1,"e="],[0,"argu"]],"start1":440,"start2":440,"length1":35,"length2":23},{"diffs":[[0,"nts["],[-1,"_i"],[1,"r"],[0,"++];"],[-1,"\r\n      _worker.postMessage(data);\r\n      _worker"],[1,"i.postMessage(t);i"],[0,".onm"]],"start1":465,"start2":465,"length1":63,"length2":31},{"diffs":[[0,"nmessage"],[-1," = "],[1,"="],[0,"function"]],"start1":494,"start2":494,"length1":19,"length2":17},{"diffs":[[0,"ion("],[-1,"e) {\r\n        cb(e.data);\r\n        return true;\r\n      };\r\n      return true;\r\n    };\r\n    "],[1,"t){e(t.data);return true};return true};"],[0,"this"]],"start1":508,"start2":508,"length1":99,"length2":47},{"diffs":[[0,"true};this.close"],[-1," = "],[1,"="],[0,"function() {\r\n  "]],"start1":545,"start2":545,"length1":35,"length2":33},{"diffs":[[0,"on()"],[-1," {\r\n      _worker"],[1,"{i"],[0,".ter"]],"start1":568,"start2":568,"length1":25,"length2":10},{"diffs":[[0,"inate();"],[-1,"\r\n      "],[0,"return t"]],"start1":579,"start2":579,"length1":24,"length2":16},{"diffs":[[0,"true"],[-1,";\r\n    };\r\n    return true;\r\n  } else {\r\n    _func = fun;\r\n    "],[1,"};return true}else{a=e;"],[0,"this"]],"start1":594,"start2":594,"length1":71,"length2":31},{"diffs":[[0,"his.send"],[-1," = "],[1,"="],[0,"function"]],"start1":622,"start2":622,"length1":19,"length2":17},{"diffs":[[0,"on()"],[-1," {\r\n      var cb, data, _i;\r\n      data = 2 "],[1,"{var e,t,r;t=2"],[0,"<="],[-1," "],[0,"argu"]],"start1":637,"start2":637,"length1":55,"length2":24},{"diffs":[[0,"ngth"],[-1," ? __slice"],[1,"?n"],[0,".cal"]],"start1":669,"start2":669,"length1":18,"length2":10},{"diffs":[[0,"nts,"],[-1," "],[0,"0,"],[-1," _i = "],[1,"r="],[0,"argu"]],"start1":687,"start2":687,"length1":17,"length2":12},{"diffs":[[0,"ngth"],[-1," - 1) : (_i = "],[1,"-1):(r="],[0,"0,"],[-1," "],[0,"[]),"],[-1," cb = "],[1,"e="],[0,"argu"]],"start1":707,"start2":707,"length1":35,"length2":23},{"diffs":[[0,"nts["],[-1,"_i"],[1,"r"],[0,"++];"],[-1,"\r\n      cb(_func.apply(null, data));\r\n      return true;\r\n    };\r\n    "],[1,"e(a.apply(null,t));return true};"],[0,"this"]],"start1":732,"start2":732,"length1":84,"length2":45},{"diffs":[[0,"is.close"],[-1," = "],[1,"="],[0,"function"]],"start1":775,"start2":775,"length1":19,"length2":17},{"diffs":[[0,"on()"],[-1," {\r\n      "],[1,"{"],[0,"retu"]],"start1":790,"start2":790,"length1":18,"length2":9},{"diffs":[[0,"true"],[-1,";\r\n    };\r\n    return true;\r\n  }\r\n};\r\n\r\ncommunist = function(fun) {\r\n  return new Communist(fun);\r\n}"],[1,"};return true}};t=function(t){return new e(t)}}).call(this)"],[0,";"]],"start1":802,"start2":802,"length1":105,"length2":64}]],"length":866,"saved":false}
{"ts":1356025491115,"patch":[[{"diffs":[[-1,"(function(){var e,t,n=[].slice;e=function(e){var t,r,u,s,a,i;"],[1,"var Communist, communist,\r\n  __slice = [].slice;\r\n\r\nCommunist = function(fun) {\r\n  var bUrl, blob, body, func, _func, _worker;\r\n  "],[0,"if"],[1," "],[0,"(typeof "],[-1,"e"],[1,"fun "],[0,"!=="],[1," "],[0,"\"fun"]],"start1":0,"start2":0,"length1":79,"length2":153},{"diffs":[[0,"on\")"],[-1,"{return}"],[1," {\r\n    return;\r\n  }\r\n  "],[0,"if"],[1," "],[0,"(Worker)"],[-1,"{"],[1," {\r\n    "],[0,"wind"]],"start1":156,"start2":156,"length1":27,"length2":51},{"diffs":[[0,"ndow.URL"],[-1,"="],[1," = "],[0,"window.U"]],"start1":205,"start2":205,"length1":17,"length2":19},{"diffs":[[0,".URL"],[1," "],[0,"||"],[1," "],[0,"wind"]],"start1":222,"start2":222,"length1":10,"length2":12},{"diffs":[[0,"URL;"],[-1,"s=e.toString();u=\"var f = \"+s+"],[1,"\r\n    func = fun.toString();\r\n    body = \"var f = \" + func + "],[0,"\";se"]],"start1":242,"start2":242,"length1":38,"length2":69},{"diffs":[[0,"})\";"],[-1,"r=new Blob([u],{"],[1,"\r\n    blob = new Blob([body], {\r\n      "],[0,"type:"],[1," "],[0,"\"tex"]],"start1":394,"start2":394,"length1":29,"length2":53},{"diffs":[[0,"ipt\""],[-1,"});t="],[1,"\r\n    });\r\n    bUrl = "],[0,"wind"]],"start1":456,"start2":456,"length1":13,"length2":30},{"diffs":[[0,"URL("],[-1,"r);i=new Worker(t);"],[1,"blob);\r\n    _worker = new Worker(bUrl);\r\n    "],[0,"this"]],"start1":505,"start2":505,"length1":27,"length2":53},{"diffs":[[0,";\r\n    this.send"],[-1,"="],[1," = "],[0,"function(){var e"]],"start1":547,"start2":547,"length1":33,"length2":35},{"diffs":[[0,"nction()"],[-1,"{var e,t,r;t=2"],[1," {\r\n      var cb, data, _i;\r\n      data = 2 "],[0,"<="],[1," "],[0,"argument"]],"start1":568,"start2":568,"length1":32,"length2":63},{"diffs":[[0,"arguments.length"],[-1,"?n"],[1," ? __slice"],[0,".call(arguments,"]],"start1":623,"start2":623,"length1":34,"length2":42},{"diffs":[[0,".call(arguments,"],[1," "],[0,"0,"],[-1,"r="],[1," _i = "],[0,"arguments.length"]],"start1":649,"start2":649,"length1":36,"length2":41},{"diffs":[[0,"ments.length"],[-1,"-1):(r="],[1," - 1) : (_i = "],[0,"0,"],[1," "],[0,"[]),"],[-1,"e="],[1," cb = "],[0,"arguments[r+"]],"start1":678,"start2":678,"length1":39,"length2":51},{"diffs":[[0,"nts["],[-1,"r"],[1,"_i"],[0,"++];"],[-1,"i.postMessage(t);i"],[1,"\r\n      _worker.postMessage(data);\r\n      _worker"],[0,".onm"]],"start1":723,"start2":723,"length1":31,"length2":63},{"diffs":[[0,"nmessage"],[-1,"="],[1," = "],[0,"function"]],"start1":784,"start2":784,"length1":17,"length2":19},{"diffs":[[0,"ion("],[-1,"t){e(t.data);return true};return true};"],[1,"e) {\r\n        return cb(e.data);\r\n      };\r\n      return true;\r\n    };\r\n    "],[0,"this"]],"start1":800,"start2":800,"length1":47,"length2":84},{"diffs":[[0,"\r\n    this.close"],[-1,"="],[1," = "],[0,"function(){i.ter"]],"start1":874,"start2":874,"length1":33,"length2":35},{"diffs":[[0,"on()"],[-1,"{i"],[1," {\r\n      _worker"],[0,".ter"]],"start1":899,"start2":899,"length1":10,"length2":25},{"diffs":[[0,"inate();"],[1,"\r\n      "],[0,"return t"]],"start1":925,"start2":925,"length1":16,"length2":24},{"diffs":[[0,"true"],[-1,"};return true}else{a=e;"],[1,";\r\n    };\r\n  } else {\r\n    _func = fun;\r\n    "],[0,"this"]],"start1":948,"start2":948,"length1":31,"length2":53},{"diffs":[[0,"his.send"],[-1,"="],[1," = "],[0,"function"]],"start1":998,"start2":998,"length1":17,"length2":19},{"diffs":[[0,"on()"],[-1,"{var e,t,r;t=2"],[1," {\r\n      var cb, data, _i;\r\n      data = 2 "],[0,"<="],[1," "],[0,"argu"]],"start1":1015,"start2":1015,"length1":24,"length2":55},{"diffs":[[0,"ngth"],[-1,"?n"],[1," ? __slice"],[0,".cal"]],"start1":1078,"start2":1078,"length1":10,"length2":18},{"diffs":[[0,"nts,"],[1," "],[0,"0,"],[-1,"r="],[1," _i = "],[0,"argu"]],"start1":1104,"start2":1104,"length1":12,"length2":17},{"diffs":[[0,"ngth"],[-1,"-1):(r="],[1," - 1) : (_i = "],[0,"0,"],[1," "],[0,"[]),"],[-1,"e="],[1," cb = "],[0,"argu"]],"start1":1129,"start2":1129,"length1":23,"length2":35},{"diffs":[[0,"nts["],[-1,"r"],[1,"_i"],[0,"++];"],[-1,"e(a.apply(null,t));return true};"],[1,"\r\n      cb(_func.apply(null, data));\r\n      return true;\r\n    };\r\n    "],[0,"this"]],"start1":1166,"start2":1166,"length1":45,"length2":84},{"diffs":[[0,"is.close"],[-1,"="],[1," = "],[0,"function"]],"start1":1248,"start2":1248,"length1":17,"length2":19},{"diffs":[[0,"nction()"],[-1,"{"],[1," {\r\n      "],[0,"return t"]],"start1":1261,"start2":1261,"length1":17,"length2":26},{"diffs":[[0,"true"],[-1,"};return true}};t=function(t){return new e(t)}}).call(this)"],[1,";\r\n    };\r\n  }\r\n};\r\n\r\ncommunist = function(fun) {\r\n  return new Communist(fun);\r\n}"],[0,";"]],"start1":1286,"start2":1286,"length1":64,"length2":87}]],"length":1373,"saved":false}
{"ts":1356026009636,"patch":[[{"diffs":[[1,"(function() {\r\n  "],[0,"var Communis"]],"start1":0,"start2":0,"length1":12,"length2":29},{"diffs":[[0,"unist,\r\n"],[1,"  "],[0,"  __slic"]],"start1":36,"start2":36,"length1":16,"length2":18},{"diffs":[[0,"ice;\r\n\r\n"],[1,"  "],[0,"Communis"]],"start1":63,"start2":63,"length1":16,"length2":18},{"diffs":[[0,"ion(fun) {\r\n"],[1,"  "],[0,"  var bUrl, "]],"start1":90,"start2":90,"length1":24,"length2":26},{"diffs":[[0,"orker;\r\n"],[1,"  "],[0,"  if (ty"]],"start1":143,"start2":143,"length1":16,"length2":18},{"diffs":[[0,"on\") {\r\n    "],[1,"  "],[0,"return;\r\n  }"]],"start1":181,"start2":181,"length1":24,"length2":26},{"diffs":[[0,"n;\r\n"],[1,"  "],[0,"  }\r\n"],[1,"  "],[0,"  if ("],[1,"window."],[0,"Work"]],"start1":200,"start2":200,"length1":19,"length2":30},{"diffs":[[0," {\r\n    "],[1,"  "],[0,"window.U"]],"start1":233,"start2":233,"length1":16,"length2":18},{"diffs":[[0,"L;\r\n    "],[1,"  "],[0,"func = f"]],"start1":284,"start2":284,"length1":16,"length2":18},{"diffs":[[0,"oString();\r\n"],[1,"  "],[0,"    body = \""]],"start1":306,"start2":306,"length1":24,"length2":26},{"diffs":[[0,"\";\r\n    "],[1,"  "],[0,"blob = n"]],"start1":440,"start2":440,"length1":16,"length2":18},{"diffs":[[0,"\r\n      "],[1,"  "],[0,"type: \"t"]],"start1":475,"start2":475,"length1":16,"length2":18},{"diffs":[[0,"cript\"\r\n"],[1,"  "],[0,"    });\r"]],"start1":502,"start2":502,"length1":16,"length2":18},{"diffs":[[0,");\r\n    "],[1,"  "],[0,"bUrl = w"]],"start1":517,"start2":517,"length1":16,"length2":18},{"diffs":[[0,"URL(blob);\r\n"],[1,"  "],[0,"    _worker "]],"start1":557,"start2":557,"length1":24,"length2":26},{"diffs":[[0,"bUrl);\r\n    "],[1,"  "],[0,"this.send = "]],"start1":596,"start2":596,"length1":24,"length2":26},{"diffs":[[0,"tion() {\r\n      "],[1," "],[1," "],[0,"var cb, data, _i"]],"start1":626,"start2":626,"length1":32,"length2":34},{"diffs":[[0," cb, data, _i;\r\n"],[1,"  "],[0,"      data = 2 <"]],"start1":647,"start2":647,"length1":32,"length2":34},{"diffs":[[0,"s[_i++];\r\n      "],[1,"  "],[0,"_worker.postMess"]],"start1":785,"start2":785,"length1":32,"length2":34},{"diffs":[[0,"e(data);\r\n      "],[1," "],[1," "],[0,"_worker.onmessag"]],"start1":821,"start2":821,"length1":32,"length2":34},{"diffs":[[0,"        "],[-1,"return"],[1," "],[0," cb(e.da"]],"start1":874,"start2":874,"length1":22,"length2":17},{"diffs":[[0,"b(e.data);\r\n"],[1,"          return true;\r\n  "],[0,"      };\r\n  "]],"start1":885,"start2":885,"length1":24,"length2":50},{"diffs":[[0,"        };\r\n"],[1,"  "],[0,"      return"]],"start1":921,"start2":921,"length1":24,"length2":26},{"diffs":[[0,"turn true;\r\n    "],[1," "],[1," "],[0,"};\r\n"],[1,"  "],[0,"    this.close ="]],"start1":943,"start2":943,"length1":36,"length2":40},{"diffs":[[0,"() {\r\n      "],[1,"  "],[0,"_worker.term"]],"start1":992,"start2":992,"length1":24,"length2":26},{"diffs":[[0,"rminate();\r\n"],[1,"  "],[0,"      return"]],"start1":1016,"start2":1016,"length1":24,"length2":26},{"diffs":[[0,"e;\r\n    "],[1,"  "],[0,"};\r\n"],[1,"      return true;\r\n  "],[0,"  } else"]],"start1":1046,"start2":1046,"length1":20,"length2":44},{"diffs":[[0," {\r\n    "],[1," "],[1," "],[0,"_func = "]],"start1":1090,"start2":1090,"length1":16,"length2":18},{"diffs":[[0,"unc = fun;\r\n"],[1,"  "],[0,"    this.sen"]],"start1":1102,"start2":1102,"length1":24,"length2":26},{"diffs":[[0,"() {\r\n      "],[1,"  "],[0,"var cb, data"]],"start1":1140,"start2":1140,"length1":24,"length2":26},{"diffs":[[0," _i;\r\n      "],[1," "],[1," "],[0,"data = 2 <= "]],"start1":1167,"start2":1167,"length1":24,"length2":26},{"diffs":[[0,"\r\n      "],[1,"  "],[0,"cb(_func"]],"start1":1303,"start2":1303,"length1":16,"length2":18},{"diffs":[[0," data));\r\n      "],[1,"  "],[0,"return true;\r\n  "]],"start1":1333,"start2":1333,"length1":32,"length2":34},{"diffs":[[0,"  return true;\r\n"],[1,"  "],[0,"    };\r\n    this"]],"start1":1349,"start2":1349,"length1":32,"length2":34},{"diffs":[[0,"    };\r\n    "],[1,"  "],[0,"this.close ="]],"start1":1367,"start2":1367,"length1":24,"length2":26},{"diffs":[[0,"tion() {\r\n      "],[1,"  "],[0,"return true;\r\n  "]],"start1":1398,"start2":1398,"length1":32,"length2":34},{"diffs":[[0,"    "],[1," "],[1," "],[0,"};\r\n"],[1,"      return true;\r\n  "],[0,"  }\r\n"],[1,"  "],[0,"};\r\n\r\n"],[1,"  "],[0,"comm"]],"start1":1430,"start2":1430,"length1":23,"length2":51},{"diffs":[[0,"n) {\r\n  "],[1," "],[1," "],[0,"return n"]],"start1":1500,"start2":1500,"length1":16,"length2":18},{"diffs":[[0,"(fun);\r\n"],[-1,"}"],[1,"  };\r\n\r\n}).call(this)"],[0,";"]],"start1":1530,"start2":1530,"length1":10,"length2":30}]],"length":1560,"saved":false}
{"ts":1356026030647,"patch":[[{"diffs":[[-1,"(function() {\r\n"],[0,"  va"]],"start1":0,"start2":0,"length1":19,"length2":4},{"diffs":[[0,"};\r\n"],[-1,"\r\n}).call(this);"]],"start1":1525,"start2":1525,"length1":20,"length2":4}]],"length":1529,"saved":false}
{"ts":1356027324587,"patch":[[{"diffs":[[-1,"  var Communist, c"],[1,"(function() {\r\n  var C"],[0,"ommu"]],"start1":0,"start2":0,"length1":22,"length2":26},{"diffs":[[0,"};\r\n\r\n  "],[1,"window."],[0,"communis"]],"start1":1458,"start2":1458,"length1":16,"length2":23},{"diffs":[[0,"st(fun);\r\n  };\r\n"],[1,"\r\n}).call(this);"]],"start1":1524,"start2":1524,"length1":16,"length2":32}]],"length":1556,"saved":false}
{"contributors":[],"silentsave":false,"ts":1356029915961,"patch":[[{"diffs":[[0,"b, body,"],[1," db,"],[0," func, _"]],"start1":108,"start2":108,"length1":16,"length2":20},{"diffs":[[0," _worker"],[1,",\r\n      _this = this"],[0,";\r\n    i"]],"start1":133,"start2":133,"length1":16,"length2":37},{"diffs":[[0,"\r\n      "],[-1,"return"],[1,"fun = function() {\r\n        var data, f, fname, name;\r\n        name = arguments[0], data = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\r\n        if (name === \"_add\") {\r\n          fname = data[0];\r\n          f = data[1];\r\n          db[fname] = eval(f);\r\n          return true;\r\n        } else {\r\n          return db[name].apply(null, data);\r\n        }\r\n      };\r\n      this.add = function(name, f) {\r\n        return _this.send(\"_add\", name, f, function() {\r\n          return true;\r\n        });\r\n      };\r\n      this.rm - function(name) {\r\n        return _this.add(name, function() {\r\n          return true;\r\n        });\r\n      }"],[0,";\r\n    }"]],"start1":201,"start2":201,"length1":22,"length2":655},{"diffs":[[0," = \"var "],[1,"db = {};var "],[0,"f = \" + "]],"start1":975,"start2":975,"length1":16,"length2":28},{"diffs":[[0,"  } else {\r\n"],[1,"      db = {};\r\n"],[0,"      _func "]],"start1":1741,"start2":1741,"length1":24,"length2":40},{"diffs":[[0,"ction(fun) {"],[-1,""],[0,""],[1,"\r\n    fun = fun || false;"],[0,"\r\n    return"]],"start1":2174,"start2":2174,"length1":24,"length2":49}]],"length":2267,"saved":false}
{"ts":1356030117705,"patch":[[{"diffs":[[0," name, f"],[1,".toString()"],[0,", functi"]],"start1":654,"start2":654,"length1":16,"length2":27},{"diffs":[[0,"l(this);"],[1,"\r\n"]],"start1":2270,"start2":2270,"length1":8,"length2":10}]],"length":2280,"saved":false}
{"ts":1356030334051,"patch":[[{"diffs":[[0," fun = function("],[1,"data"],[0,") {\r\n        var"]],"start1":208,"start2":208,"length1":32,"length2":36},{"diffs":[[0,"     var"],[-1," data,"],[0," f, fnam"]],"start1":236,"start2":236,"length1":22,"length2":16},{"diffs":[[0,"e = "],[-1,"arguments[0], data = 2 <= arguments.length ? __slice.call(arguments, 1) : []"],[1,"data.shift()"],[0,";\r\n "]],"start1":273,"start2":273,"length1":84,"length2":20}]],"length":2214,"saved":false}
{"ts":1356030619607,"patch":[[{"diffs":[[0,"ody,"],[-1," db,"],[0," fun"]],"start1":112,"start2":112,"length1":12,"length2":8},{"diffs":[[0,"rker"],[-1,",\r\n      _this = this"],[0,";\r\n "]],"start1":133,"start2":133,"length1":29,"length2":8},{"diffs":[[0,"    "],[-1,"fun = function(data) {\r\n        var f, fname, name;\r\n        name = data.shift();\r\n        if (name === \"_add\") {\r\n          fname = data[0];\r\n          f = data[1];\r\n          db[fname] = eval(f);\r\n          return true;\r\n        } else {\r\n          return db[name].apply(null, data);\r\n        }\r\n      };\r\n      this.add = function(name, f) {\r\n        return _this.send(\"_add\", name, f.toString(), function() {\r\n          return true;\r\n        });\r\n      };\r\n      this.rm - function(name) {\r\n        return _this.add(name, function() {\r\n          return true;\r\n        });\r\n      }"],[1,"return"],[0,";\r\n "]],"start1":180,"start2":180,"length1":592,"length2":14},{"diffs":[[0,"var "],[-1,"db = {};var "],[0,"f = "]],"start1":321,"start2":321,"length1":20,"length2":8},{"diffs":[[0," {\r\n"],[-1,"      db = {};\r\n"],[0,"    "]],"start1":1079,"start2":1079,"length1":24,"length2":8},{"diffs":[[0,"n) {"],[-1,"\r\n    fun = fun || false;"],[0,""],[1,""],[0,"\r\n  "]],"start1":1496,"start2":1496,"length1":33,"length2":8}]],"length":1558,"saved":false}
{"contributors":[],"silentsave":false,"ts":1357133145807,"patch":[[{"diffs":[[0,"mmunist,"],[1," Socialist,\r\n    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },"],[0,"\r\n    __"]],"start1":23,"start2":23,"length1":16,"length2":116},{"diffs":[[0,"\r\n  Communist = "],[1,"("],[0,"function(fun) {\r"]],"start1":158,"start2":158,"length1":32,"length2":33},{"diffs":[[0,"ion("],[-1,"fun"],[0,") {\r\n"],[-1,"    var bUrl, blob, body, func, _func, _worker;\r\n    if (typeof fun !== \"function\") {\r\n      return;\r\n    }\r\n    if (window.Worker) {"],[1,"\r\n    function Communist(fun) {\r\n      this.start = __bind(this.start, this);\r\n\r\n      this.send = __bind(this.send, this);\r\n\r\n      var bUrl, blob, body;"],[0,"\r\n  "]],"start1":180,"start2":180,"length1":149,"length2":167},{"diffs":[[0,"\r\n      "],[1,"if (fun) {\r\n        "],[0,"fun"],[-1,"c"],[0," = fun.t"]],"start1":394,"start2":394,"length1":20,"length2":39},{"diffs":[[0,"oString();\r\n"],[1,"  "],[0,"      body ="]],"start1":433,"start2":433,"length1":24,"length2":26},{"diffs":[[0,"var "],[1,"send;var _"],[0,"f ="],[1," "],[0," \" + fun"],[-1,"c"],[0," + \""]],"start1":461,"start2":461,"length1":20,"length2":30},{"diffs":[[0,"ion("],[1,"_e) {send = function(data){self.postMessage({message:data,cb:_e.data.cb})};self.postMessage({body:_f.apply(null, _e.data.body),cb:_e.data.cb})})\";\r\n      } else {\r\n        body = \"var _db = {}\\n    \t\t\t_db._add=function(name, func){\\n\t\t\t\t_db[name]=eval(\\\"(\\\"+func+\\\")\\\");\\n\t\t\t\t\treturn true;\t\\n\t\t\t\t};\t\\n\t\t\t\t_db._rm=function(name){\\n\t\t\t\t\tdelete _db[name];\t\t\\n\t\t\t\t\treturn true;\\n\t\t\t\t};\\n\t\t\t\t_db._test=function(a){\\n\t\t\t\t\treturn a || \\\"all quiet\\\";\\n\t\t\t\t};\\n\t\t\t\tvar _f =  function () {\\n\t\t\t\t    var args, method,__slice = [].slice;\\n\t\t\t\t    method = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\\n\t\t\t\t    return _db[method].apply(null, args);\\n\t\t\t\t  };\\n\t\t\t\t self.addEventListener('message', function(_"],[0,"e) {"],[-1,"self.postMessage("],[1,"\\n\t\t\t\t \tself.send = function(data){\\n\t\t\t\t \t\tself.postMessage({\\n\t\t\t\t\t\tmessege:data,cb:_e.data.cb\\n\t\t\t\t\t});\\n\t\t\t\t};\\n\t\t\t\t\tself.postMessage({\\n\t\t\t\t\tcb:_e.data.cb,\\n\t\t\t\t\tbody:_"],[0,"f.ap"]],"start1":530,"start2":530,"length1":29,"length2":913},{"diffs":[[0,"ll, "],[1,"_"],[0,"e.data"],[-1,"))"],[1,".body)\\n\t\t\t\t\t});\\n\\n\t\t\t\t"],[0,"})"],[1,";"],[0,"\";\r\n"],[1,"      }\r\n"],[0,"    "]],"start1":1449,"start2":1449,"length1":22,"length2":55},{"diffs":[[0,"ob);\r\n      "],[1,"this."],[0,"_worker = ne"]],"start1":1619,"start2":1619,"length1":24,"length2":29},{"diffs":[[0,"rl);\r\n      this"],[1,";\r\n\r\n    }\r\n\r\n    Communist.prototype.CBs = {};\r\n\r\n    Communist.prototype"],[0,".send = function"]],"start1":1659,"start2":1659,"length1":32,"length2":106},{"diffs":[[0,"tion() {\r\n      "],[-1,"  "],[0,"var cb, data, _i"]],"start1":1761,"start2":1761,"length1":34,"length2":32},{"diffs":[[0,"ar cb, data,"],[1," id,"],[0," _i"],[-1,";"],[1,","],[0,"\r\n  "],[1,"      _this = this;\r\n"],[0,"      data ="]],"start1":1778,"start2":1778,"length1":32,"length2":57},{"diffs":[[0,"s[_i++];\r\n      "],[-1,"  "],[1,"if (cb == null) {\r\n        cb = function() {\r\n          return true;\r\n        };\r\n      }\r\n      id = (\"\" + Math.random()).slice(2);\r\n      this.CBs[id] = cb;\r\n      this."],[0,"_worker.postMess"]],"start1":1943,"start2":1943,"length1":34,"length2":203},{"diffs":[[0,"Message("],[1,"{\r\n        body: "],[0,"data"],[-1,");"],[1,","],[0,"\r\n      "]],"start1":2142,"start2":2142,"length1":22,"length2":38},{"diffs":[[0," data,\r\n        "],[1,"cb: id\r\n      });\r\n      this."],[0,"_worker.onmessag"]],"start1":2166,"start2":2166,"length1":32,"length2":62},{"diffs":[[0,"    "],[-1,"  cb("],[1,"if (e.data.body) {\r\n          _this.CBs[e.data.cb](null, "],[0,"e.data"],[1,".body"],[0,");\r\n"]],"start1":2251,"start2":2251,"length1":19,"length2":76},{"diffs":[[0,"    "],[-1,"return true;\r\n        };\r\n        return true;\r\n      };\r\n      this"],[1,"delete _this.CBs[e.data.cb];\r\n        } else if (e.data.message) {\r\n          _this.CBs[e.data.cb](null, e.data.message);\r\n        }\r\n        return true;\r\n      };\r\n      this._worker.onerror = function(e) {\r\n        cb(e);\r\n        return true;\r\n      };\r\n      return true;\r\n    };\r\n\r\n    Communist.prototype.start = function(cb) {\r\n      return this.send(cb);\r\n    };\r\n\r\n    Communist.prototype"],[0,".clo"]],"start1":2333,"start2":2333,"length1":76,"length2":406},{"diffs":[[0,"\r\n      "],[-1,"  "],[1,"this."],[0,"_worker."]],"start1":2756,"start2":2756,"length1":18,"length2":21},{"diffs":[[0,"rminate();\r\n"],[1,"      return true;\r\n    };\r\n\r\n    Communist.prototype.add = function(method, func, cb) {\r\n      if (cb == null) {\r\n        cb = function() {\r\n  "],[0,"        retu"]],"start1":2779,"start2":2779,"length1":24,"length2":168},{"diffs":[[0,"  return true;\r\n"],[1,"  "],[0,"      };\r\n      "]],"start1":2941,"start2":2941,"length1":32,"length2":34},{"diffs":[[0,"e;\r\n        };\r\n"],[1,"      }\r\n      return this.send(\"_add\", method, func.toString(), cb);\r\n    };\r\n\r\n    Communist.prototype.remove = function(method, cb) {\r\n      if (cb == null) {\r\n        cb = function() {\r\n    "],[0,"      return tru"]],"start1":2953,"start2":2953,"length1":32,"length2":226},{"diffs":[[0," true;\r\n    "],[-1,"} else"],[1,"    };\r\n      }\r\n      return this.send(\"_rm\", method, cb);\r\n    };\r\n\r\n    true;\r\n\r\n    return Communist;\r\n\r\n  })();\r\n\r\n  window.Communist = Communist;\r\n\r\n  Socialist = (function() {\r\n\r\n    function Socialist(fun) {\r\n      this.start = __bind(this.start, this);\r\n\r\n      this.send = __bind(this.send, this);\r\n\r\n      var _this = this;\r\n      if (fun)"],[0," {\r\n      _f"]],"start1":3175,"start2":3175,"length1":30,"length2":374},{"diffs":[[0,"\r\n      "],[1,"  this."],[0,"_func = "]],"start1":3539,"start2":3539,"length1":16,"length2":23},{"diffs":[[0,"\r\n      "],[-1,"this.send"],[1,"} else {\r\n        this._db = {};\r\n        this._db._add = function(name, func) {\r\n          _this._db[name] = func;\r\n          return true;\r\n        };\r\n        this._db._rm"],[0," = funct"]],"start1":3566,"start2":3566,"length1":25,"length2":189},{"diffs":[[0," = function("],[1,"name"],[0,") {\r\n  "],[1,"        delete _this._db[name];\r\n          return true;\r\n        };\r\n        this._func = function() {\r\n          var args, name;\r\n          name = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\r\n          return this._db[name].apply(null, args);\r\n        };\r\n      }\r\n    }\r\n\r\n    Socialist.prototype.CBs = {};\r\n\r\n    Socialist.prototype.send = function() {\r\n"],[0,"      var cb"]],"start1":3747,"start2":3747,"length1":31,"length2":426},{"diffs":[[0,"ata,"],[1," self,"],[0," _i;\r\n"],[-1,"  "],[0,"    "]],"start1":4176,"start2":4176,"length1":16,"length2":20},{"diffs":[[0,"    "],[-1,"  cb(_func.apply(null, data));\r\n        return true;\r\n      };\r\n      this.close = function() {\r\n   "],[1,"self = {};\r\n      self.send = function(m) {\r\n        return cb(null, m);\r\n      };\r\n      if (this._db) {\r\n        self._db = this._db;\r\n      }\r\n      self.setInterval = function() {\r\n        var nDelay, vCallback, _args, _func,\r\n          _this = this;\r\n        vCallback = arguments[0], nDelay = arguments[1], _args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];\r\n        _func = function() {\r\n          return vCallback.apply(_this, _args);\r\n        };\r\n        return window.setInterval(_func, nDelay);\r\n      };\r\n      self.setTimeout = function() {\r\n        var nDelay, vCallback, _args, _func,\r\n          _this = this;\r\n        vCallback = arguments[0], nDelay = arguments[1], _args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];\r\n        _func = function() {\r\n          return vCallback.apply(_this, _args);\r\n        };\r\n        return window.setInterval(_func, nDelay);\r\n      };\r\n      try {\r\n        cb(null, this._func.apply(self, data));\r\n        return true;\r\n      } catch (err) {\r\n        cb(err);\r\n        return false;\r\n      }\r\n      return true;\r\n    };\r\n\r\n    Socialist.prototype.start = function(cb) {\r\n      return this.send(cb);\r\n    };\r\n\r\n    Socialist.prototype.close = function() {\r\n      var _func;\r\n      _func = void 0;\r\n"],[0,"     "],[1," "],[0,"retu"]],"start1":4324,"start2":4324,"length1":113,"length2":1290},{"diffs":[[0,"turn true;\r\n    "],[-1,"  "],[0,"};\r\n"],[1,"\r\n    Socialist.prototype.add = function(method, func, cb) {\r\n      if (cb == null) {\r\n        cb = function() {\r\n          return true;\r\n        };\r\n      }\r\n      return this.send(\"_add\", method, func, cb);\r\n    };\r\n\r\n    Socialist.prototype.remove = function(method, cb) {\r\n      if (cb == null) {\r\n        cb = function() {\r\n    "],[0,"      return tru"]],"start1":5612,"start2":5612,"length1":38,"length2":369},{"diffs":[[0,"    "],[-1,"}\r\n  };\r\n\r\n  window.communist = function(fun) {\r\n    return new Communist(fun);"],[1,"    };\r\n      }\r\n      return this.send(\"_rm\", method, cb);\r\n    };\r\n\r\n    true;\r\n\r\n    return Socialist;\r\n\r\n  })();\r\n\r\n  window.Socialist = Socialist;\r\n\r\n  window.communist = function(fun) {\r\n    if (window.Worker) {\r\n      if (fun) {\r\n        return new Communist(fun);\r\n      } else {\r\n        return new Communist();\r\n      }\r\n    } else {\r\n      if (fun) {\r\n        return new Socialist(fun);\r\n      } else {\r\n        return new Socialist();\r\n      }\r\n    }"],[0,"\r\n  "]],"start1":5985,"start2":5985,"length1":87,"length2":470},{"diffs":[[0,".call(this);"],[-1,"\r\n"]],"start1":6463,"start2":6463,"length1":14,"length2":12}]],"length":6475,"saved":false}
