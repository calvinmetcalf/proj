/*
 http://mths.be/placeholder v2.0.5 by @mathias **/
(function(c,f,d){function l(n){var e={},b=/^jQuery\d+$/;d.each(n.attributes,function(n,d){d.specified&&!b.test(d.name)&&(e[d.name]=d.value)});return e}function h(n,e){var b=d(this);if(this.value==b.attr("placeholder")&&b.hasClass("placeholder"))if(b.data("placeholder-password")){b=b.hide().next().show().attr("id",b.removeAttr("id").data("placeholder-id"));if(!0===n)return b[0].value=e;b.focus()}else this.value="",b.removeClass("placeholder")}function j(){var b,e=d(this),c=this.id;if(""==this.value){if("password"==
this.type){if(!e.data("placeholder-textinput")){try{b=e.clone().attr({type:"text"})}catch(f){b=d("<input>").attr(d.extend(l(this),{type:"text"}))}b.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":c}).bind("focus.placeholder",h);e.data({"placeholder-textinput":b,"placeholder-id":c}).before(b)}e=e.removeAttr("id").hide().prev().attr("id",c).show()}e.addClass("placeholder");e[0].value=e.attr("placeholder")}else e.removeClass("placeholder")}var i="placeholder"in f.createElement("input"),
k="placeholder"in f.createElement("textarea"),b=d.fn,o=d.valHooks;i&&k?(b=b.placeholder=function(){return this},b.input=b.textarea=!0):(b=b.placeholder=function(){this.filter((i?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":h,"blur.placeholder":j}).data("placeholder-enabled",!0).trigger("blur.placeholder");return this},b.input=i,b.textarea=k,b={get:function(b){var e=d(b);return e.data("placeholder-enabled")&&e.hasClass("placeholder")?"":b.value},set:function(b,
e){var c=d(b);if(!c.data("placeholder-enabled"))return b.value=e;""==e?(b.value=e,b!=f.activeElement&&j.call(b)):c.hasClass("placeholder")?h.call(b,!0,e)||(b.value=e):b.value=e;return c}},i||(o.input=b),k||(o.textarea=b),d(function(){d(f).delegate("form","submit.placeholder",function(){var b=d(".placeholder",this).each(h);setTimeout(function(){b.each(j)},10)})}),d(c).bind("beforeunload.placeholder",function(){d(".placeholder").each(function(){this.value=""})}))})(this,document,jQuery);/*
 @calvinmetcalf **/
var g=google.maps,m,zoom=8,center=new g.LatLng(41.914541,-71.592407);google.load("visualization","1",{});
$(function(){$("#tabs").tabs({collapsible:!0,selected:-1});$("input:submit,input:reset").button();$("input, textarea").placeholder();m=new ftMap({mapDiv:"map",tid:4018032});m.geocoder();a=["Congress","Senate","House"];$("#tabs-2").append('<select id="status"><option value="all">All Statuses</option></select>');m.getUV("Status",stCB);$("#tabs-2").append('<select id="which"><option value="none">Pick One</option></select>');$.each(a,function(c,f){$("#which").append('<option value="'+f+'">'+f+"</option>")});
$("#which").change(function(){var c=$("#which").val();$("#Select").remove();m.setQ("dist","");"none"!==c&&m.getUV(c,sCB)})});
var sCB=function(c,f){$("#tabs-2").append('<select id="Select"><option value="all">Any '+f+"</option></select>");$.each(c.sort(),function(d,c){var f=c.replace(RegExp("\\B[A-Z]","g")," $&");$("#Select").append('<option value="'+c+'">'+f+"</option>")});$("#Select").change(function(){var d=$("#Select").val();"all"===d?m.setQ("dist",""):m.setQ("dist","'"+f+"' = '"+d+"'")})},stCB=function(c){$.each(c.sort(),function(c,d){$("#status").append('<option value="'+d+'">'+d+"</option>")});$("#status").change(function(){var c=
$("#status").val();"all"===c?m.setQ("status",""):m.setQ("status","'Status' = '"+c+"'")})},ftMap=function(c){var c=c||{},f=google.maps;this.name=c.name||"Map";var d=this,l=c.mapDiv||null,h=c.tid||0,j=c.geometry||"geometry",i=c.where||"",c=c.layerOptions||null;d.ql={};null!==l&&(d.map=new f.Map($("#"+l)[0],{center:center,zoom:zoom,mapTypeId:"roadmap"}));0<h&&(d.layer=new f.FusionTablesLayer(h),d.layer.setQuery("SELECT '"+j+"' FROM "+h+" WHERE "+i),d.layer.setMap(d.map),null!==c&&d.layer.setOptions(c));
var k=function(b,d,c){b=encodeURIComponent("SELECT "+b+", COUNT() FROM "+d+" GROUP BY "+b);(new google.visualization.Query("http://www.google.com/fusiontables/gvizdata?tq="+b)).send(c)};this.getUV=function(b,c){k(b,h,function(f){c(d.getArray(f),b)})};this.getArray=function(b){var d=b.getDataTable().getNumberOfRows(),c=[],e;for(e=0;e<d;e++)c.push(b.getDataTable().getValue(e,0));return c};this.setQ=function(b,c){c===""?delete d.ql[b]:d.ql[b]=c;var f=[];$.each(d.ql,function(b,c){f.push(c)});i=f.length===
0?"":f.length===1?f.pop():f.join(" and ");d.layer.setQuery("SELECT '"+j+"' FROM "+h+" WHERE "+i)};this.geocoder=function(b,c,d){var e=new f.Geocoder,b=b||"geocode",c=c||"address",d=d||"resetgeo";e.geomarker=new f.Marker;$("#"+b).click(function(){e.geocode({address:$("#"+c).val()},function(b,c){if(c==f.GeocoderStatus.OK){m.map.setCenter(b[0].geometry.location);m.map.setZoom(14);e.geomarker.setPosition(b[0].geometry.location);e.geomarker.setMap(m.map)}else alert("Geocode was not successful for the following reason: "+
c)})});$("#"+d).click(function(){m.map.setCenter(center);m.map.setZoom(zoom);e.geomarker.setMap(null)})}};